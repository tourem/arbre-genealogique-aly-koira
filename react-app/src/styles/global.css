*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
:root{
--bg:#0f0f1a;
--card:#1a1a2e;
--card-hover:#252542;
--surface:#16163a;
--primary:#6366f1;
--primary-light:#818cf8;
--secondary:#ec4899;
--accent:#22d3ee;
--success:#10b981;
--text:#f8fafc;
--text-secondary:#94a3b8;
--text-muted:#64748b;
--male:#3b82f6;
--female:#f472b6;
--border:rgba(255,255,255,0.08);
--shadow:0 4px 24px rgba(0,0,0,0.4);
--radius:16px;
--radius-lg:24px;
--radius-full:9999px;
--gen1:#f59e0b;--gen1-bg:rgba(245,158,11,0.15);
--gen2:#10b981;--gen2-bg:rgba(16,185,129,0.15);
--gen3:#6366f1;--gen3-bg:rgba(99,102,241,0.15);
--gen4:#ec4899;--gen4-bg:rgba(236,72,153,0.15);
--gen5:#8b5cf6;--gen5-bg:rgba(139,92,246,0.15);
--gen6:#14b8a6;--gen6-bg:rgba(20,184,166,0.15);
--gen7:#f97316;--gen7-bg:rgba(249,115,22,0.15);
--gen0:#9333ea;--gen0-bg:rgba(147,51,234,0.15);
}

/* ========== ECRAN DE CONNEXION ========== */
.login-screen{
position:fixed;
inset:0;
background:linear-gradient(135deg,#0f0f1a 0%,#1a1a2e 50%,#16163a 100%);
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
padding:20px;
}
.login-container{
width:100%;
max-width:400px;
animation:loginFadeIn 0.5s ease;
}
@keyframes loginFadeIn{
from{opacity:0;transform:translateY(20px)}
to{opacity:1;transform:translateY(0)}
}
@keyframes loginFadeOut{
from{opacity:1}
to{opacity:0}
}
.login-logo{
text-align:center;
margin-bottom:32px;
}
.login-logo-icon{
width:80px;
height:80px;
background:linear-gradient(135deg,var(--primary),var(--secondary));
border-radius:24px;
display:flex;
align-items:center;
justify-content:center;
font-size:40px;
margin:0 auto 16px;
box-shadow:0 8px 32px rgba(99,102,241,0.3);
}
.login-logo h1{
font-size:24px;
font-weight:700;
margin-bottom:4px;
background:linear-gradient(135deg,var(--text),var(--primary-light));
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
background-clip:text;
}
.login-logo p{
font-size:14px;
color:var(--text-secondary);
}
.login-box{
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius-lg);
padding:28px 24px;
box-shadow:var(--shadow);
}
.login-title{
display:flex;
align-items:center;
justify-content:center;
gap:8px;
font-size:15px;
font-weight:600;
color:var(--text-secondary);
margin-bottom:24px;
}
.login-title span{font-size:20px}
.login-form{
display:flex;
flex-direction:column;
gap:16px;
}
.login-input-group label{
display:block;
font-size:13px;
font-weight:500;
color:var(--text-secondary);
margin-bottom:8px;
}
.login-input-wrapper{
position:relative;
display:flex;
align-items:center;
}
.login-input-wrapper input{
width:100%;
padding:16px;
padding-right:50px;
background:var(--surface);
border:2px solid var(--border);
border-radius:var(--radius);
color:var(--text);
font-size:16px;
font-family:inherit;
transition:all 0.2s;
}
.login-input-wrapper input:focus{
outline:none;
border-color:var(--primary);
box-shadow:0 0 0 4px rgba(99,102,241,0.2);
}
.login-input-wrapper input::placeholder{color:var(--text-muted)}
.toggle-password{
position:absolute;
right:12px;
background:none;
border:none;
font-size:18px;
cursor:pointer;
opacity:0.6;
transition:opacity 0.2s;
}
.toggle-password:hover{opacity:1}
.remember-me{
display:flex;
align-items:center;
gap:10px;
font-size:14px;
color:var(--text-secondary);
cursor:pointer;
user-select:none;
}
.remember-me input{display:none}
.checkmark{
width:22px;
height:22px;
border:2px solid var(--border);
border-radius:6px;
display:flex;
align-items:center;
justify-content:center;
transition:all 0.2s;
flex-shrink:0;
}
.remember-me input:checked + .checkmark{
background:var(--primary);
border-color:var(--primary);
}
.remember-me input:checked + .checkmark::after{
content:'\2713';
color:white;
font-size:14px;
font-weight:bold;
}
.login-btn{
width:100%;
padding:18px;
background:linear-gradient(135deg,var(--primary),var(--secondary));
border:none;
border-radius:var(--radius);
color:white;
font-size:16px;
font-weight:600;
font-family:inherit;
cursor:pointer;
transition:all 0.2s;
margin-top:8px;
}
.login-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(99,102,241,0.4)}
.login-btn:active{transform:translateY(0)}
.login-error{
text-align:center;
color:#ef4444;
font-size:14px;
min-height:20px;
animation:shake 0.3s ease;
}
@keyframes shake{
0%,100%{transform:translateX(0)}
25%{transform:translateX(-8px)}
75%{transform:translateX(8px)}
}
.login-footer{
text-align:center;
margin-top:24px;
}
.login-footer p{
font-size:13px;
color:var(--text-muted);
}

/* ========== APPLICATION ========== */
html,body{
font-family:'Inter',system-ui,sans-serif;
background:var(--bg);
color:var(--text);
height:100%;
overflow:hidden;
-webkit-font-smoothing:antialiased;
}
#root{height:100%}
.app{
display:flex;
flex-direction:column;
height:100dvh;
max-width:500px;
margin:0 auto;
}

/* Header moderne */
.header{
padding:16px 20px;
padding-top:max(16px,env(safe-area-inset-top));
background:linear-gradient(135deg,#1a1a2e 0%,#16163a 100%);
border-bottom:1px solid var(--border);
}
.header-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.logo{display:flex;align-items:center;gap:10px}
.logo-icon{
width:40px;height:40px;
background:linear-gradient(135deg,var(--primary),var(--secondary));
border-radius:12px;
display:flex;align-items:center;justify-content:center;
font-size:20px;
}
.logo-text h1{font-size:18px;font-weight:700;letter-spacing:-0.5px}
.logo-text span{font-size:11px;color:var(--text-secondary);font-weight:500}
.logout-btn{
background:rgba(239,68,68,0.15);
border:none;
width:40px;
height:40px;
border-radius:12px;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
transition:all 0.2s;
}
.logout-btn svg{width:20px;height:20px;color:#ef4444}
.logout-btn:active{background:rgba(239,68,68,0.3);transform:scale(0.95)}
.header-stats{
display:flex;gap:16px;
background:var(--surface);
padding:12px 16px;
border-radius:var(--radius);
}
.header-stat{text-align:center;flex:1}
.header-stat-value{font-size:20px;font-weight:700;color:var(--primary-light)}
.header-stat-label{font-size:10px;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.5px}

/* Contenu principal */
main{flex:1;overflow:hidden;position:relative}
.page{
display:none;
height:100%;
flex-direction:column;
}
.page.active{display:flex}

/* Animation de transition pour la vue personne */
.person-view-container{
transition:all 0.3s ease;
}
.person-view-container.changing{
opacity:0;
transform:translateX(30px);
}
.person-view-container.entering{
animation:slideIn 0.4s ease forwards;
}
@keyframes slideIn{
from{opacity:0;transform:translateX(-30px)}
to{opacity:1;transform:translateX(0)}
}

/* Flash de couleur pour confirmer le clic */
.click-flash{
position:fixed;
top:0;left:0;right:0;
height:4px;
z-index:1000;
animation:flashBar 0.5s ease;
}
@keyframes flashBar{
0%{transform:scaleX(0);transform-origin:left}
50%{transform:scaleX(1)}
100%{transform:scaleX(0);transform-origin:right}
}

/* Scroll container */
.scroll{
flex:1;
overflow-y:auto;
-webkit-overflow-scrolling:touch;
padding:16px 20px;
padding-bottom:100px;
}
.scroll::-webkit-scrollbar{display:none}

/* Navigation bottom moderne */
.nav{
position:fixed;
bottom:0;
left:50%;
transform:translateX(-50%);
width:100%;
max-width:500px;
padding:12px 20px;
padding-bottom:max(12px,env(safe-area-inset-bottom));
background:rgba(15,15,26,0.95);
backdrop-filter:blur(20px);
-webkit-backdrop-filter:blur(20px);
border-top:1px solid var(--border);
display:flex;
justify-content:space-around;
z-index:100;
}
.nav-item{
display:flex;
flex-direction:column;
align-items:center;
gap:4px;
padding:8px 16px;
border-radius:var(--radius);
color:var(--text-muted);
font-size:10px;
font-weight:500;
transition:all 0.2s ease;
cursor:pointer;
border:none;
background:none;
text-decoration:none;
}
.nav-item.active{color:var(--primary-light);background:rgba(99,102,241,0.15)}
.nav-item svg{width:24px;height:24px}

/* === PAGE FAMILLE (Arbre simplifie) === */
.person-card{
background:linear-gradient(145deg,var(--card),var(--surface));
border-radius:var(--radius-lg);
padding:24px;
text-align:center;
border:2px solid var(--border);
box-shadow:var(--shadow);
margin-bottom:20px;
position:relative;
overflow:hidden;
transition:all 0.3s ease;
}
.person-card::before{
content:'';
position:absolute;
top:0;left:0;right:0;
height:6px;
}
.person-card.gen1::before{background:linear-gradient(90deg,var(--gen1),#fbbf24)}
.person-card.gen2::before{background:linear-gradient(90deg,var(--gen2),#34d399)}
.person-card.gen3::before{background:linear-gradient(90deg,var(--gen3),#818cf8)}
.person-card.gen4::before{background:linear-gradient(90deg,var(--gen4),#f472b6)}
.person-card.gen5::before{background:linear-gradient(90deg,var(--gen5),#a78bfa)}
.person-card.gen6::before{background:linear-gradient(90deg,var(--gen6),#2dd4bf)}
.person-card.gen7::before{background:linear-gradient(90deg,var(--gen7),#fb923c)}
.person-card.gen0::before{background:linear-gradient(90deg,var(--gen0),#a855f7)}

/* Badge generation flottant */
.gen-badge{
position:absolute;
top:16px;right:16px;
padding:6px 14px;
border-radius:var(--radius-full);
font-size:12px;
font-weight:700;
color:white;
}
.gen1 .gen-badge{background:var(--gen1)}
.gen2 .gen-badge{background:var(--gen2)}
.gen3 .gen-badge{background:var(--gen3)}
.gen4 .gen-badge{background:var(--gen4)}
.gen5 .gen-badge{background:var(--gen5)}
.gen6 .gen-badge{background:var(--gen6)}
.gen7 .gen-badge{background:var(--gen7)}
.gen0 .gen-badge{background:var(--gen0)}
.person-avatar{
width:80px;height:80px;
border-radius:50%;
margin:0 auto 16px;
display:flex;align-items:center;justify-content:center;
font-size:36px;
position:relative;
}
.person-avatar.male{background:linear-gradient(135deg,#1e3a5f,#3b82f6)}
.person-avatar.female{background:linear-gradient(135deg,#5f1e4a,#ec4899)}
.person-avatar::after{
content:'';
position:absolute;
inset:-4px;
border-radius:50%;
border:3px solid;
opacity:0.8;
animation:pulseRing 2s ease infinite;
}
.gen1 .person-avatar::after{border-color:var(--gen1)}
.gen2 .person-avatar::after{border-color:var(--gen2)}
.gen3 .person-avatar::after{border-color:var(--gen3)}
.gen4 .person-avatar::after{border-color:var(--gen4)}
.gen5 .person-avatar::after{border-color:var(--gen5)}
.gen6 .person-avatar::after{border-color:var(--gen6)}
.gen7 .person-avatar::after{border-color:var(--gen7)}
.gen0 .person-avatar::after{border-color:var(--gen0)}
@keyframes pulseRing{
0%,100%{transform:scale(1);opacity:0.8}
50%{transform:scale(1.05);opacity:0.5}
}
.person-name{font-size:22px;font-weight:700;margin-bottom:4px}
.person-name .alias-inline{font-weight:500;color:var(--primary);font-size:18px}
.person-gen{font-size:13px;color:var(--text-secondary);margin-top:12px}
.person-note{
background:var(--surface);
border:1px solid var(--border);
border-radius:var(--radius);
padding:10px 14px;
margin-top:12px;
font-size:13px;
font-style:italic;
color:var(--text-secondary);
line-height:1.5;
}

/* Parents section */
.section-title{
font-size:12px;
font-weight:600;
color:var(--text-muted);
text-transform:uppercase;
letter-spacing:1px;
margin:24px 0 12px;
display:flex;
align-items:center;
gap:8px;
}
.section-title::before{
content:'';
flex:1;
height:1px;
background:var(--border);
}
.section-title::after{
content:'';
flex:1;
height:1px;
background:var(--border);
}

.parent-cards{display:flex;gap:12px;margin-bottom:8px}
.parent-card{
flex:1;
background:var(--card);
border:2px solid var(--border);
border-radius:var(--radius);
padding:16px;
text-align:center;
cursor:pointer;
transition:all 0.2s ease;
position:relative;
overflow:hidden;
}
.parent-card::before{
content:'';
position:absolute;
top:0;left:0;right:0;
height:3px;
}
.parent-card.gen1::before{background:var(--gen1)}
.parent-card.gen2::before{background:var(--gen2)}
.parent-card.gen3::before{background:var(--gen3)}
.parent-card.gen4::before{background:var(--gen4)}
.parent-card.gen5::before{background:var(--gen5)}
.parent-card.gen6::before{background:var(--gen6)}
.parent-card.gen7::before{background:var(--gen7)}
.parent-card.gen0::before{background:var(--gen0)}
.parent-card:active{transform:scale(0.96);background:var(--card-hover)}
.parent-card .mini-avatar{
width:44px;height:44px;
border-radius:50%;
margin:0 auto 8px;
display:flex;align-items:center;justify-content:center;
font-size:20px;
}
.parent-card .mini-avatar.male{background:rgba(59,130,246,0.2)}
.parent-card .mini-avatar.female{background:rgba(236,72,153,0.2)}
.parent-card .name{font-size:14px;font-weight:600}
.parent-card .label{font-size:11px;color:var(--text-muted);margin-top:2px}
.parent-card .gen-tag{
display:inline-block;
padding:2px 8px;
border-radius:10px;
font-size:9px;
font-weight:600;
color:white;
margin-top:6px;
}

/* Children grid */
.children-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.child-card{
background:var(--card);
border:2px solid var(--border);
border-radius:var(--radius);
padding:14px 8px;
text-align:center;
cursor:pointer;
transition:all 0.2s ease;
position:relative;
overflow:hidden;
}
.child-card::before{
content:'';
position:absolute;
top:0;left:0;right:0;
height:3px;
}
.child-card.gen1::before{background:var(--gen1)}
.child-card.gen2::before{background:var(--gen2)}
.child-card.gen3::before{background:var(--gen3)}
.child-card.gen4::before{background:var(--gen4)}
.child-card.gen5::before{background:var(--gen5)}
.child-card.gen6::before{background:var(--gen6)}
.child-card.gen7::before{background:var(--gen7)}
.child-card.gen0::before{background:var(--gen0)}
.child-card:active{transform:scale(0.94);background:var(--card-hover)}
.child-card .mini-avatar{
width:40px;height:40px;
border-radius:50%;
margin:0 auto 8px;
display:flex;align-items:center;justify-content:center;
font-size:18px;
}
.child-card .mini-avatar.male{background:rgba(59,130,246,0.2)}
.child-card .mini-avatar.female{background:rgba(236,72,153,0.2)}
.child-card .name{font-size:12px;font-weight:600;line-height:1.3}
.child-card .gen-tag{
display:inline-block;
padding:2px 8px;
border-radius:10px;
font-size:9px;
font-weight:600;
color:white;
margin-top:4px;
}
.child-card .badge{
display:block;
background:var(--card-hover);
color:var(--text-secondary);
font-size:10px;
padding:4px 8px;
border-radius:10px;
margin-top:6px;
}
/* Legende generations */
.gen-legend{
display:flex;
justify-content:center;
gap:8px;
margin-top:24px;
padding:16px;
background:var(--surface);
border-radius:var(--radius);
flex-wrap:wrap;
}
.gen-legend-item{
display:flex;
align-items:center;
gap:6px;
font-size:11px;
color:var(--text-secondary);
}
.gen-legend-dot{
width:12px;height:12px;
border-radius:50%;
}

/* Parent card statique (sans lien) */
.parent-card.static{
cursor:default;
opacity:0.8;
}
.parent-card.static:active{
transform:none;
background:var(--card);
}

/* Famille elargie */
.extended-family-note{
font-size:12px;
color:var(--text-muted);
text-align:center;
margin-bottom:12px;
font-style:italic;
}
.parent-card.extended{
background:linear-gradient(135deg,rgba(20,184,166,0.15),rgba(6,182,212,0.15));
border:2px solid rgba(20,184,166,0.4);
}
.parent-card.extended::before{
background:linear-gradient(135deg,#14b8a6,#06b6d4);
}
.extended-badge{
font-size:10px;
color:#14b8a6;
margin-top:4px;
font-weight:600;
}

/* Epouses */
.spouses-list{
display:flex;
flex-direction:column;
gap:10px;
margin-bottom:8px;
}
.spouse-card{
position:relative;
display:flex;
align-items:center;
gap:14px;
background:linear-gradient(135deg,rgba(236,72,153,0.15),rgba(139,92,246,0.15));
border:1px solid rgba(236,72,153,0.3);
border-radius:var(--radius);
padding:14px 16px;
}
.spouse-card.clickable{
cursor:pointer;
transition:all 0.2s;
}
.spouse-card.clickable:active{
transform:scale(0.98);
background:linear-gradient(135deg,rgba(236,72,153,0.25),rgba(139,92,246,0.25));
}
.spouse-link{
font-size:11px;
color:var(--primary);
margin-top:4px;
font-weight:500;
}
.spouse-avatar{
width:44px;height:44px;
background:linear-gradient(135deg,#ec4899,#8b5cf6);
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
font-size:20px;
flex-shrink:0;
}
.spouse-info{
flex:1;
}
.spouse-name{
font-size:15px;
font-weight:600;
color:var(--text);
}
.spouse-num{
font-size:11px;
color:var(--text-muted);
margin-top:2px;
}

/* Groupes d'enfants par mere */
.children-mother-group{
margin-bottom:16px;
}
.mother-label{
display:inline-flex;
align-items:center;
gap:6px;
background:rgba(236,72,153,0.15);
border:1px solid rgba(236,72,153,0.3);
padding:8px 14px;
border-radius:var(--radius-full);
font-size:12px;
font-weight:500;
color:var(--text);
margin-bottom:10px;
}

/* Navigation dans l'arbre */
.tree-nav{
display:flex;
gap:8px;
margin-bottom:16px;
overflow-x:auto;
padding-bottom:4px;
}
.tree-nav::-webkit-scrollbar{display:none}
.tree-nav-item{
display:flex;
align-items:center;
gap:6px;
padding:10px 16px;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius-full);
font-size:13px;
font-weight:500;
white-space:nowrap;
cursor:pointer;
transition:all 0.2s;
flex-shrink:0;
}
.tree-nav-item:active{background:var(--primary);border-color:var(--primary)}
.tree-nav-item svg{width:16px;height:16px}

/* Racine selector */
/* ========== RECHERCHE MEMBRE (autocomplete) ========== */
.member-search{
position:relative;
margin-bottom:16px;
z-index:50;
}
.member-search-input-wrap{
display:flex;
align-items:center;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius);
padding:0 14px;
gap:10px;
transition:border-color 0.2s;
}
.member-search-input-wrap:focus-within{
border-color:var(--primary);
box-shadow:0 0 0 3px rgba(99,102,241,0.15);
}
.member-search-icon{
font-size:16px;
flex-shrink:0;
opacity:0.6;
}
.member-search-input{
flex:1;
background:transparent;
border:none;
outline:none;
color:var(--text);
font-size:15px;
font-family:inherit;
padding:14px 0;
min-width:0;
}
.member-search-input::placeholder{
color:var(--text-muted);
}
.member-search-clear{
background:none;
border:none;
color:var(--text-muted);
font-size:22px;
cursor:pointer;
padding:0 2px;
line-height:1;
flex-shrink:0;
}
.member-search-clear:hover{
color:var(--text);
}
.member-search-dropdown{
position:absolute;
top:calc(100% + 4px);
left:0;
right:0;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius);
max-height:320px;
overflow-y:auto;
box-shadow:var(--shadow);
animation:searchDropIn 0.15s ease;
z-index:50;
}
@keyframes searchDropIn{
from{opacity:0;transform:translateY(-6px)}
to{opacity:1;transform:translateY(0)}
}
.member-search-item{
display:flex;
align-items:center;
gap:10px;
padding:10px 14px;
cursor:pointer;
transition:background 0.15s;
border-bottom:1px solid var(--border);
}
.member-search-item:last-child{
border-bottom:none;
}
.member-search-item:hover,
.member-search-item.active{
background:var(--card-hover);
}
.member-search-item.active{
border-left:3px solid var(--primary);
}
.member-search-gen{
font-size:11px;
font-weight:700;
color:#fff;
padding:2px 6px;
border-radius:6px;
flex-shrink:0;
min-width:28px;
text-align:center;
}
.member-search-name{
flex:1;
font-size:14px;
color:var(--text);
white-space:nowrap;
overflow:hidden;
text-overflow:ellipsis;
min-width:0;
}
.member-search-alias{
color:var(--text-muted);
font-size:13px;
}
.member-search-gender{
font-size:14px;
flex-shrink:0;
opacity:0.5;
}
.member-search-empty,
.member-search-hint{
padding:14px;
text-align:center;
color:var(--text-muted);
font-size:13px;
}

/* === PAGE RECHERCHE === */
.search-box{
position:relative;
margin-bottom:16px;
}
.search-input{
width:100%;
padding:16px 16px 16px 48px;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius);
color:var(--text);
font-size:16px;
font-family:inherit;
transition:all 0.2s;
}
.search-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(99,102,241,0.2)}
.search-input::placeholder{color:var(--text-muted)}
.search-icon{
position:absolute;
left:16px;
top:50%;
transform:translateY(-50%);
color:var(--text-muted);
}

.person-list{display:flex;flex-direction:column;gap:8px}
.person-item{
display:flex;
align-items:center;
gap:14px;
padding:14px 16px;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius);
cursor:pointer;
transition:all 0.2s;
}
.person-item:active{background:var(--card-hover);transform:scale(0.99)}
.person-item .avatar{
width:48px;height:48px;
border-radius:50%;
display:flex;align-items:center;justify-content:center;
font-size:22px;
flex-shrink:0;
}
.person-item .avatar.male{background:linear-gradient(135deg,#1e3a5f,#3b82f6)}
.person-item .avatar.female{background:linear-gradient(135deg,#5f1e4a,#ec4899)}
.person-item .info{flex:1;min-width:0}
.person-item .info .name{font-size:15px;font-weight:600;margin-bottom:2px}
.person-item .info .details{font-size:12px;color:var(--text-secondary)}
.person-item .arrow{color:var(--text-muted)}

/* === PAGE PARENTE === */
.page-title{
font-size:20px;
font-weight:700;
margin-bottom:8px;
}
.page-subtitle{
font-size:14px;
color:var(--text-secondary);
margin-bottom:24px;
line-height:1.5;
}
.parente-form{
display:flex;
flex-direction:column;
gap:16px;
}
.parente-select-group label{
display:block;
font-size:13px;
font-weight:500;
color:var(--text-secondary);
margin-bottom:8px;
}
.parente-select{
width:100%;
padding:16px;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius);
color:var(--text);
font-size:15px;
font-family:inherit;
-webkit-appearance:none;
background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
background-repeat:no-repeat;
background-position:right 12px center;
}
.parente-vs{
text-align:center;
font-size:24px;
}
.parente-btn{
width:100%;
padding:18px;
background:linear-gradient(135deg,var(--primary),var(--secondary));
border:none;
border-radius:var(--radius);
color:white;
font-size:16px;
font-weight:600;
font-family:inherit;
cursor:pointer;
transition:all 0.2s;
margin-top:8px;
}
.parente-btn:active{transform:scale(0.98);opacity:0.9}

.relation-result{
margin-top:24px;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius-lg);
padding:24px;
text-align:center;
}
.relation-badge{
display:inline-block;
background:linear-gradient(135deg,var(--primary),var(--secondary));
color:white;
padding:12px 28px;
border-radius:var(--radius-full);
font-size:20px;
font-weight:700;
margin:16px 0;
}
.relation-detail{
background:var(--surface);
border-radius:var(--radius);
padding:16px;
margin-top:16px;
text-align:left;
}
.relation-step{
padding:10px 0;
font-size:13px;
color:var(--text-secondary);
border-bottom:1px solid var(--border);
display:flex;
align-items:center;
gap:10px;
}
.relation-step:last-child{border:none}
.relation-step .dot{
width:8px;height:8px;
background:var(--primary);
border-radius:50%;
flex-shrink:0;
}

/* Empty state */
.empty{
text-align:center;
padding:48px 24px;
color:var(--text-muted);
}
.empty-icon{font-size:48px;margin-bottom:16px;opacity:0.5}
.empty-text{font-size:14px}

/* === FORMULAIRE CONTRIBUER === */
.form-intro{
text-align:center;
padding:24px 16px;
margin-bottom:16px;
}
.form-intro-icon{font-size:48px;margin-bottom:12px}
.form-intro h2{font-size:22px;font-weight:700;margin-bottom:8px}
.form-intro p{font-size:14px;color:var(--text-secondary);line-height:1.5}

.form-section{
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius-lg);
padding:20px;
margin-bottom:16px;
}
.form-section-title{
font-size:14px;
font-weight:600;
margin-bottom:16px;
display:flex;
align-items:center;
justify-content:space-between;
}
.form-group{
margin-bottom:14px;
flex:1;
}
.form-group:last-child{margin-bottom:0}
.form-group label{
display:block;
font-size:12px;
color:var(--text-secondary);
margin-bottom:6px;
font-weight:500;
}
.form-group input, .form-group select, .form-group textarea{
width:100%;
padding:14px 16px;
background:var(--surface);
border:1px solid var(--border);
border-radius:var(--radius);
color:var(--text);
font-size:15px;
font-family:inherit;
transition:all 0.2s;
}
.form-group input:focus, .form-group select:focus, .form-group textarea:focus{
outline:none;
border-color:var(--primary);
box-shadow:0 0 0 3px rgba(99,102,241,0.2);
}
.form-group input::placeholder, .form-group textarea::placeholder{color:var(--text-muted)}
.form-group textarea{resize:vertical;min-height:80px}
.form-row{
display:flex;
gap:12px;
}

.add-child-btn{
background:var(--primary);
color:white;
border:none;
padding:8px 16px;
border-radius:var(--radius-full);
font-size:13px;
font-weight:600;
cursor:pointer;
}
.add-child-btn:active{opacity:0.8}

.no-children{
text-align:center;
padding:24px;
color:var(--text-muted);
}
.no-children p{margin-bottom:12px;font-size:14px}
.add-first-child{
background:var(--surface);
color:var(--text);
border:1px dashed var(--border);
padding:12px 24px;
border-radius:var(--radius);
font-size:14px;
cursor:pointer;
}
.add-first-child:active{background:var(--card-hover)}

.child-item{
background:var(--surface);
border:1px solid var(--border);
border-radius:var(--radius);
padding:16px;
margin-bottom:12px;
position:relative;
}
.child-item-header{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:12px;
}
.child-number{
font-size:13px;
font-weight:600;
color:var(--primary-light);
}
.remove-child{
background:rgba(239,68,68,0.2);
color:#ef4444;
border:none;
width:28px;
height:28px;
border-radius:50%;
font-size:16px;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
}
.remove-child:active{background:rgba(239,68,68,0.4)}
.child-fields{
display:flex;
flex-direction:column;
gap:10px;
}
.child-row{
display:flex;
gap:10px;
}
.child-row .form-group{margin-bottom:0}
.gender-select{
display:flex;
gap:8px;
}
.gender-selector{
display:flex;
gap:10px;
margin-top:8px;
}
.gender-selector .gender-option{
flex:1;
padding:14px 12px;
background:var(--card);
border:2px solid var(--border);
border-radius:var(--radius);
text-align:center;
cursor:pointer;
transition:all 0.2s;
font-size:14px;
font-weight:500;
}
.gender-selector .gender-option.selected{
border-color:var(--primary);
background:rgba(99,102,241,0.15);
}
.gender-selector .gender-option:active{transform:scale(0.98)}
.gender-option{
flex:1;
padding:12px;
background:var(--card);
border:2px solid var(--border);
border-radius:var(--radius);
text-align:center;
cursor:pointer;
transition:all 0.2s;
}
.gender-option.selected{
border-color:var(--primary);
background:rgba(99,102,241,0.15);
}
.gender-option:active{transform:scale(0.98)}
.gender-option span{font-size:20px;display:block;margin-bottom:4px}
.gender-option small{font-size:11px;color:var(--text-secondary)}

.form-actions{
display:flex;
flex-direction:column;
gap:10px;
margin:24px 0;
}
.action-btn{
display:flex;
align-items:center;
justify-content:center;
gap:10px;
padding:16px 24px;
border:none;
border-radius:var(--radius);
font-size:15px;
font-weight:600;
font-family:inherit;
cursor:pointer;
transition:all 0.2s;
}
.action-btn:active{transform:scale(0.98)}
.action-btn svg{width:20px;height:20px}
.action-btn.whatsapp{
background:#25D366;
color:white;
}
.action-btn.copy{
background:var(--primary);
color:white;
}
.action-btn.download{
background:var(--card);
color:var(--text);
border:1px solid var(--border);
}

.form-note{
background:var(--surface);
border:1px solid var(--border);
border-radius:var(--radius);
padding:16px;
font-size:13px;
color:var(--text-secondary);
line-height:1.6;
}

/* Toast notification */
.toast{
position:fixed;
bottom:100px;
left:50%;
transform:translateX(-50%) translateY(100px);
background:var(--card);
color:var(--text);
padding:14px 24px;
border-radius:var(--radius-full);
font-size:14px;
font-weight:500;
box-shadow:var(--shadow);
opacity:0;
transition:all 0.3s ease;
z-index:1000;
}
.toast.show{
transform:translateX(-50%) translateY(0);
opacity:1;
}
.toast.success{background:#10b981}
.toast.error{background:#ef4444}

/* Messages */
.no-data{
background:var(--surface);
border-radius:var(--radius);
padding:20px;
text-align:center;
color:var(--text-muted);
font-size:14px;
}

/* Loading */
.loading-screen{
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
height:100%;
gap:16px;
color:var(--text-secondary);
}
.loading-spinner{
width:40px;height:40px;
border:3px solid var(--border);
border-top-color:var(--primary);
border-radius:50%;
animation:spin 0.8s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ========== LOGIN TABS ========== */
.login-tabs{
display:flex;
gap:0;
margin-bottom:16px;
border-radius:var(--radius);
overflow:hidden;
background:var(--bg);
}
.login-tab{
flex:1;
padding:10px 16px;
border:none;
background:transparent;
color:var(--text-muted);
font-size:14px;
font-weight:500;
cursor:pointer;
transition:all 0.2s;
}
.login-tab.active{
background:var(--primary);
color:white;
}
.login-success{
background:rgba(16,185,129,0.15);
color:#10b981;
padding:12px;
border-radius:var(--radius);
font-size:13px;
margin-top:8px;
text-align:center;
}

/* ========== HEADER USER INFO ========== */
.header-user{
display:flex;
align-items:center;
gap:10px;
}
.header-user-info{
display:flex;
flex-direction:column;
align-items:flex-end;
gap:2px;
}
.header-user-name{
font-size:13px;
color:var(--text);
font-weight:500;
max-width:120px;
overflow:hidden;
text-overflow:ellipsis;
white-space:nowrap;
}
.header-role-badge{
font-size:10px;
font-weight:600;
padding:2px 8px;
border-radius:var(--radius-full);
text-transform:uppercase;
letter-spacing:0.5px;
}
.header-role-badge.admin{
background:rgba(99,102,241,0.2);
color:var(--primary-light);
}
.header-role-badge.user{
background:rgba(16,185,129,0.15);
color:var(--success);
}

/* ========== SUGGESTIONS ========== */
.suggestions-list{
display:flex;
flex-direction:column;
gap:12px;
}
.suggestion-card{
background:var(--card);
border-radius:var(--radius);
padding:16px;
border:1px solid var(--border);
}
.suggestion-header{
display:flex;
align-items:center;
gap:8px;
margin-bottom:8px;
flex-wrap:wrap;
}
.suggestion-status{
font-size:11px;
font-weight:600;
padding:3px 10px;
border-radius:var(--radius-full);
text-transform:uppercase;
}
.status-pending{background:rgba(245,158,11,0.15);color:#f59e0b}
.status-approved{background:rgba(16,185,129,0.15);color:#10b981}
.status-rejected{background:rgba(239,68,68,0.15);color:#ef4444}
.suggestion-type{
font-size:12px;
color:var(--text-secondary);
}
.suggestion-date{
font-size:12px;
color:var(--text-muted);
margin-left:auto;
}
.suggestion-body{
font-size:14px;
color:var(--text);
line-height:1.5;
}
.suggestion-note{
margin-top:8px;
padding:8px 12px;
background:var(--surface);
border-radius:8px;
font-size:13px;
color:var(--text-secondary);
}
.suggestion-actions{
margin-top:12px;
display:flex;
flex-direction:column;
gap:8px;
}
.suggestion-buttons{
display:flex;
gap:8px;
}
.empty-state{
text-align:center;
padding:40px 20px;
color:var(--text-muted);
font-size:14px;
}
.empty-state p + p{
margin-top:8px;
}

/* ========== ADMIN TABS & SECTIONS ========== */
.admin-tabs{
display:flex;
gap:0;
margin-bottom:16px;
border-radius:var(--radius);
overflow:hidden;
background:var(--surface);
}
.admin-tab{
flex:1;
padding:10px 12px;
border:none;
background:transparent;
color:var(--text-muted);
font-size:13px;
font-weight:500;
cursor:pointer;
transition:all 0.2s;
}
.admin-tab.active{
background:var(--primary);
color:white;
}
.admin-section{
display:flex;
flex-direction:column;
gap:12px;
}
.admin-toolbar{
display:flex;
gap:8px;
align-items:center;
}
.admin-search{
flex:1;
padding:10px 14px;
border-radius:var(--radius);
border:1px solid var(--border);
background:var(--surface);
color:var(--text);
font-size:14px;
}
.admin-search:focus{
outline:none;
border-color:var(--primary);
}
.admin-note-input{
width:100%;
padding:8px 12px;
border-radius:8px;
border:1px solid var(--border);
background:var(--surface);
color:var(--text);
font-size:13px;
}
.admin-note-input:focus{
outline:none;
border-color:var(--primary);
}

/* Admin member rows */
.admin-members-list{
display:flex;
flex-direction:column;
gap:4px;
}
.admin-member-row{
display:flex;
align-items:center;
justify-content:space-between;
padding:10px 14px;
background:var(--card);
border-radius:12px;
border:1px solid var(--border);
}
.admin-member-info{
font-size:14px;
color:var(--text);
overflow:hidden;
text-overflow:ellipsis;
white-space:nowrap;
flex:1;
}
.admin-member-alias{
color:var(--text-secondary);
font-size:13px;
}
.admin-member-meta{
color:var(--text-muted);
font-size:12px;
}
.admin-member-actions{
display:flex;
gap:6px;
flex-shrink:0;
}

/* Admin user rows */
.admin-users-list{
display:flex;
flex-direction:column;
gap:4px;
}
.admin-user-row{
display:flex;
align-items:center;
justify-content:space-between;
padding:10px 14px;
background:var(--card);
border-radius:12px;
border:1px solid var(--border);
}
.admin-user-info{
display:flex;
flex-direction:column;
gap:2px;
flex:1;
overflow:hidden;
}
.admin-user-info strong{
font-size:14px;
color:var(--text);
}
.admin-user-email{
font-size:12px;
color:var(--text-muted);
overflow:hidden;
text-overflow:ellipsis;
white-space:nowrap;
}
.admin-user-actions{
display:flex;
align-items:center;
gap:8px;
flex-shrink:0;
}

/* Admin action buttons */
.btn-approve,.btn-reject,.btn-edit,.btn-delete,.btn-toggle-role{
padding:6px 12px;
border:none;
border-radius:8px;
font-size:12px;
font-weight:500;
cursor:pointer;
transition:all 0.2s;
}
.btn-approve{background:rgba(16,185,129,0.2);color:#10b981}
.btn-approve:hover{background:rgba(16,185,129,0.3)}
.btn-reject{background:rgba(239,68,68,0.2);color:#ef4444}
.btn-reject:hover{background:rgba(239,68,68,0.3)}
.btn-edit{background:rgba(99,102,241,0.2);color:var(--primary-light)}
.btn-edit:hover{background:rgba(99,102,241,0.3)}
.btn-delete{background:rgba(239,68,68,0.15);color:#ef4444}
.btn-delete:hover{background:rgba(239,68,68,0.25)}
.btn-toggle-role{background:rgba(99,102,241,0.15);color:var(--primary-light)}
.btn-toggle-role:hover{background:rgba(99,102,241,0.25)}

/* ========== MODAL ========== */
.modal-overlay{
position:fixed;
inset:0;
background:rgba(0,0,0,0.6);
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
padding:20px;
}
.modal-content{
background:var(--card);
border-radius:var(--radius-lg);
width:100%;
max-width:500px;
max-height:90vh;
overflow-y:auto;
border:1px solid var(--border);
}
.modal-header{
display:flex;
align-items:center;
justify-content:space-between;
padding:16px 20px;
border-bottom:1px solid var(--border);
}
.modal-header h3{
font-size:16px;
color:var(--text);
}
.modal-close{
background:none;
border:none;
color:var(--text-muted);
font-size:24px;
cursor:pointer;
padding:0 4px;
}
.modal-close:hover{color:var(--text)}
.modal-body{
padding:16px 20px;
display:flex;
flex-direction:column;
gap:12px;
}
.modal-body .form-row{
display:flex;
gap:10px;
}
.modal-body .form-group{
flex:1;
display:flex;
flex-direction:column;
gap:4px;
}
.modal-body label{
font-size:12px;
color:var(--text-secondary);
font-weight:500;
}
.modal-body input,.modal-body select{
padding:8px 12px;
border-radius:8px;
border:1px solid var(--border);
background:var(--surface);
color:var(--text);
font-size:14px;
}
.modal-body input:focus,.modal-body select:focus{
outline:none;
border-color:var(--primary);
}
.modal-body input:disabled{
opacity:0.5;
cursor:not-allowed;
}
.modal-footer{
display:flex;
gap:8px;
justify-content:flex-end;
padding:16px 20px;
border-top:1px solid var(--border);
}

/* ========== VIEW TOGGLE (Fiche / Arbre) ========== */
.view-toggle{
display:flex;
gap:0;
margin-bottom:16px;
border-radius:var(--radius);
overflow:hidden;
background:var(--surface);
}
.view-toggle-btn{
flex:1;
padding:10px 16px;
border:none;
background:transparent;
color:var(--text-muted);
font-size:14px;
font-weight:600;
cursor:pointer;
transition:all 0.2s;
font-family:inherit;
}
.view-toggle-btn.active{
background:var(--primary);
color:white;
}

/* ========== TREE VIEW ========== */
.tree-view-wrapper{
display:flex;
flex-direction:column;
gap:12px;
}
.tree-view-toolbar{
display:flex;
gap:8px;
flex-wrap:wrap;
align-items:center;
justify-content:space-between;
}
.tree-toolbar-group{
display:flex;
gap:8px;
}
.tree-toolbar-btn{
padding:8px 16px;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius-full);
color:var(--text-secondary);
font-size:13px;
font-weight:500;
cursor:pointer;
transition:all 0.2s;
font-family:inherit;
}
.tree-toolbar-btn:active{
background:var(--primary);
color:white;
border-color:var(--primary);
}

/* ========== ZOOM CONTROLS ========== */
.tree-zoom-controls{
display:flex;
align-items:center;
gap:2px;
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius-full);
padding:3px;
}
.tree-zoom-btn{
width:32px;
height:32px;
border-radius:50%;
border:none;
background:transparent;
color:var(--text-secondary);
font-size:16px;
font-weight:700;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
transition:all 0.15s;
font-family:inherit;
line-height:1;
}
.tree-zoom-btn:active{
background:var(--primary);
color:white;
}
.tree-zoom-level{
font-size:11px;
color:var(--text-secondary);
font-weight:600;
min-width:38px;
text-align:center;
font-variant-numeric:tabular-nums;
}
.tree-zoom-fit{
border-radius:var(--radius-full);
width:auto;
padding:0 10px;
font-size:11px;
font-weight:600;
}

/* ========== SCROLL VIEWPORT ========== */
.tree-view-scroll{
position:relative;
overflow:auto;
-webkit-overflow-scrolling:touch;
min-height:60vh;
border:1px solid var(--border);
border-radius:12px;
background:rgba(0,0,0,0.12);
}
.tree-view-scroll::-webkit-scrollbar{display:none}
.tree-view-canvas{
display:inline-flex;
min-width:max-content;
padding:16px 32px 16px 16px;
}

/* ========== TREE NODE (vertical) ========== */
.tree-node{
display:flex;
flex-direction:column;
align-items:center;
}
.tree-node-content{
display:flex;
flex-direction:column;
align-items:center;
flex-shrink:0;
}
.tree-node-bridge{
width:2px;
height:20px;
background:var(--border);
flex-shrink:0;
}
.tree-node-children{
display:flex;
flex-direction:row;
align-items:flex-start;
}

/* ========== CHILD COLUMN BRANCHES ========== */
.tree-child-row{
display:flex;
flex-direction:column;
align-items:center;
position:relative;
padding-top:20px;
}
/* Horizontal bus line */
.tree-child-row::before{
content:'';
position:absolute;
top:0;
left:0;
right:0;
height:2px;
background:var(--border);
}
/* First child: cut left half */
.tree-child-row:first-child::before{
left:50%;
}
/* Last child: cut right half */
.tree-child-row:last-child::before{
right:50%;
}
/* Only child: no horizontal bus */
.tree-child-row.only-child::before{
display:none;
}
/* Vertical stub from bus down to child card */
.tree-child-row::after{
content:'';
position:absolute;
top:0;
left:50%;
width:2px;
height:20px;
background:var(--border);
}

/* ========== TREE CARD ========== */
.tree-card{
display:flex;
align-items:center;
gap:8px;
padding:8px 12px;
background:var(--card);
border:2px solid var(--border);
border-radius:12px;
cursor:pointer;
transition:all 0.2s ease;
position:relative;
min-width:120px;
max-width:180px;
margin:0 6px;
flex-shrink:0;
}
.tree-card:hover{
background:var(--card-hover);
border-color:rgba(255,255,255,0.15);
}
.tree-card:active{
transform:scale(0.97);
}

/* Generation top accent */
.tree-card::before{
content:'';
position:absolute;
top:0;left:0;right:0;
height:3px;
border-radius:12px 12px 0 0;
}
.tree-card.gen0::before{background:var(--gen0)}
.tree-card.gen1::before{background:var(--gen1)}
.tree-card.gen2::before{background:var(--gen2)}
.tree-card.gen3::before{background:var(--gen3)}
.tree-card.gen4::before{background:var(--gen4)}
.tree-card.gen5::before{background:var(--gen5)}
.tree-card.gen6::before{background:var(--gen6)}
.tree-card.gen7::before{background:var(--gen7)}

/* Avatar */
.tree-card-avatar{
width:32px;height:32px;
border-radius:50%;
display:flex;align-items:center;justify-content:center;
font-size:16px;
flex-shrink:0;
}
.tree-card.male .tree-card-avatar{background:rgba(59,130,246,0.25)}
.tree-card.female .tree-card-avatar{background:rgba(236,72,153,0.25)}

/* Info */
.tree-card-info{
flex:1;
min-width:0;
overflow:hidden;
}
.tree-card-name{
font-size:12px;
font-weight:600;
white-space:nowrap;
overflow:hidden;
text-overflow:ellipsis;
color:var(--text);
}
.tree-card-alias{
font-weight:400;
color:var(--primary-light);
font-size:11px;
}
.tree-card-gen{
font-size:10px;
font-weight:600;
margin-top:2px;
}
.tree-card-gen.gen0{color:var(--gen0)}
.tree-card-gen.gen1{color:var(--gen1)}
.tree-card-gen.gen2{color:var(--gen2)}
.tree-card-gen.gen3{color:var(--gen3)}
.tree-card-gen.gen4{color:var(--gen4)}
.tree-card-gen.gen5{color:var(--gen5)}
.tree-card-gen.gen6{color:var(--gen6)}
.tree-card-gen.gen7{color:var(--gen7)}

/* Toggle +/- button */
.tree-card-toggle{
position:absolute;
bottom:-12px;
left:50%;
transform:translateX(-50%);
width:24px;height:24px;
border-radius:50%;
background:var(--primary);
color:white;
border:2px solid var(--bg);
font-size:11px;
font-weight:700;
display:flex;align-items:center;justify-content:center;
cursor:pointer;
z-index:2;
transition:all 0.15s;
line-height:1;
}
.tree-card-toggle:hover{
background:var(--primary-light);
transform:translateX(-50%) scale(1.1);
}

/* ========== TREE POPUP ========== */
.tree-popup-overlay{
position:fixed;
inset:0;
background:rgba(0,0,0,0.6);
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
padding:20px;
animation:fadeIn 0.15s ease;
}
@keyframes fadeIn{
from{opacity:0}
to{opacity:1}
}
.tree-popup{
background:var(--card);
border:1px solid var(--border);
border-radius:var(--radius-lg);
width:100%;
max-width:340px;
padding:24px;
position:relative;
animation:popIn 0.2s ease;
}
@keyframes popIn{
from{opacity:0;transform:scale(0.95)}
to{opacity:1;transform:scale(1)}
}
.tree-popup-close{
position:absolute;
top:12px;right:12px;
background:none;
border:none;
color:var(--text-muted);
font-size:24px;
cursor:pointer;
line-height:1;
padding:0 4px;
}
.tree-popup-close:hover{color:var(--text)}

.tree-popup-header{
display:flex;
align-items:center;
gap:12px;
margin-bottom:20px;
}
.tree-popup-avatar{
width:48px;height:48px;
border-radius:50%;
display:flex;align-items:center;justify-content:center;
font-size:24px;
flex-shrink:0;
}
.tree-popup-avatar.male{background:linear-gradient(135deg,#1e3a5f,#3b82f6)}
.tree-popup-avatar.female{background:linear-gradient(135deg,#5f1e4a,#ec4899)}
.tree-popup-title{
flex:1;
min-width:0;
}
.tree-popup-title h3{
font-size:18px;
font-weight:700;
color:var(--text);
}
.tree-popup-alias{
display:block;
font-size:14px;
color:var(--primary-light);
margin-top:2px;
}
.tree-popup-gen-badge{
padding:4px 12px;
border-radius:var(--radius-full);
font-size:11px;
font-weight:700;
color:white;
flex-shrink:0;
}

.tree-popup-body{
display:flex;
flex-direction:column;
gap:0;
}
.tree-popup-row{
display:flex;
justify-content:space-between;
align-items:center;
padding:10px 0;
border-bottom:1px solid var(--border);
font-size:14px;
}
.tree-popup-row:last-child{border-bottom:none}
.tree-popup-note{
background:var(--surface);
border:1px solid var(--border);
border-radius:var(--radius);
padding:10px 14px;
margin-top:10px;
font-size:13px;
font-style:italic;
color:var(--text-secondary);
line-height:1.5;
}
.tree-popup-label{
color:var(--text-muted);
font-weight:500;
}

.tree-popup-footer{
margin-top:16px;
padding-top:16px;
border-top:1px solid var(--border);
}
.tree-popup-edit-btn{
width:100%;
padding:12px;
background:linear-gradient(135deg,var(--primary),var(--secondary));
border:none;
border-radius:var(--radius);
color:white;
font-size:14px;
font-weight:600;
cursor:pointer;
transition:all 0.2s;
font-family:inherit;
}
.tree-popup-edit-btn:active{
transform:scale(0.98);
opacity:0.9;
}
.tree-popup-delete-btn{
width:100%;
padding:12px;
background:rgba(239,68,68,0.15);
border:1px solid rgba(239,68,68,0.3);
border-radius:var(--radius);
color:#ef4444;
font-size:14px;
font-weight:600;
cursor:pointer;
transition:all 0.2s;
font-family:inherit;
margin-top:8px;
}
.tree-popup-delete-btn:disabled{
background:rgba(100,116,139,0.1);
border-color:var(--border);
color:var(--text-muted);
cursor:not-allowed;
opacity:0.6;
}
.tree-popup-delete-btn:hover:not(:disabled){
background:rgba(239,68,68,0.25);
border-color:rgba(239,68,68,0.5);
}
.tree-popup-confirm{
display:flex;
flex-direction:column;
gap:16px;
padding:8px 0;
}
.tree-popup-confirm-msg{
font-size:15px;
color:var(--text);
line-height:1.5;
text-align:center;
}
.tree-popup-confirm-actions{
display:flex;
gap:10px;
}
.tree-popup-confirm-actions .btn-cancel{
flex:1;
padding:12px;
background:var(--surface);
border:1px solid var(--border);
border-radius:var(--radius);
color:var(--text);
font-size:14px;
font-weight:600;
cursor:pointer;
transition:all 0.2s;
font-family:inherit;
}
.tree-popup-confirm-actions .btn-cancel:hover{
background:var(--card-hover);
}
.tree-popup-confirm-actions .btn-confirm-delete{
flex:1;
padding:12px;
background:#ef4444;
border:none;
border-radius:var(--radius);
color:white;
font-size:14px;
font-weight:600;
cursor:pointer;
transition:all 0.2s;
font-family:inherit;
}
.tree-popup-confirm-actions .btn-confirm-delete:hover{
background:#dc2626;
}
.tree-popup-confirm-actions .btn-confirm-delete:disabled{
opacity:0.6;
cursor:not-allowed;
}
.tree-popup-disabled-hint{
font-size:12px;
color:var(--text-muted);
text-align:center;
margin-top:6px;
font-style:italic;
}

/* ========== INFO ICON BUTTON ========== */
.info-icon-btn{
position:absolute;
top:6px;right:6px;
width:24px;height:24px;
border-radius:50%;
background:rgba(99,102,241,0.5);
color:white;
border:none;
font-size:13px;
font-weight:700;
display:flex;align-items:center;justify-content:center;
cursor:pointer;
z-index:2;
transition:all 0.15s;
line-height:1;
padding:0;
}
.info-icon-btn:hover{
background:rgba(99,102,241,0.8);
}
.info-icon-btn:active{
transform:scale(0.9);
}

/* ========== MEMBER PHOTOS ========== */
.person-photo{
width:100%;
height:100%;
border-radius:50%;
object-fit:cover;
}
.tree-popup-photo{
width:100%;
height:100%;
border-radius:50%;
object-fit:cover;
}
.photo-preview{
width:80px;
height:80px;
border-radius:50%;
object-fit:cover;
border:3px solid var(--border);
display:block;
margin:0 auto;
}
.photo-input{
width:100%;
padding:8px;
background:var(--surface);
border:1px solid var(--border);
border-radius:var(--radius);
color:var(--text);
font-size:13px;
}
.photo-input::file-selector-button{
padding:6px 14px;
border-radius:8px;
border:none;
background:var(--primary);
color:white;
font-size:12px;
font-weight:500;
cursor:pointer;
margin-right:8px;
}
.photo-input::file-selector-button:hover{
background:var(--primary-light);
}

/* ========== ADD MEMBER CARD (dashed "+") ========== */
.add-member-card{
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
gap:6px;
padding:14px 16px;
border:2px dashed var(--border);
border-radius:var(--radius);
cursor:pointer;
transition:all 0.2s;
color:var(--text-muted);
background:transparent;
min-height:60px;
}
.add-member-card:hover{
border-color:var(--primary);
color:var(--primary-light);
background:rgba(99,102,241,0.08);
}
.add-member-card:active{
transform:scale(0.97);
}
.add-member-card--grid{
padding:14px 8px;
text-align:center;
}
.add-member-icon{
font-size:24px;
font-weight:300;
line-height:1;
}
.add-member-label{
font-size:12px;
font-weight:500;
}

/* ========== ADD MODAL CONTEXT BANNER ========== */
.add-modal-context{
display:flex;
align-items:center;
gap:10px;
padding:12px 16px;
background:linear-gradient(135deg,rgba(99,102,241,0.15),rgba(236,72,153,0.10));
border:1px solid rgba(99,102,241,0.25);
border-radius:var(--radius);
font-size:14px;
font-weight:500;
color:var(--text);
}
.add-modal-context-icon{
font-size:20px;
flex-shrink:0;
}

/* ==========================================================
   RESPONSIVE — Tablet / Desktop / Wide / Hover
   ========================================================== */

/* ---------- Tablet (768px+) ---------- */
@media (min-width: 768px) {
  .app {
    max-width: 768px;
  }
  .nav {
    max-width: 768px;
  }
  .children-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* ---------- Desktop (1024px+) ---------- */
@media (min-width: 1024px) {

  /* 18. Unlock body scroll */
  html, body {
    overflow: auto;
  }

  /* 1. App container — CSS Grid with sidebar */
  .app {
    display: grid;
    grid-template-rows: auto 1fr;
    grid-template-columns: 240px 1fr;
    max-width: none;
    width: 100%;
    height: 100dvh;
  }

  /* 2. Header — spans full width, horizontal layout */
  .header {
    grid-column: 1 / -1;
    display: flex;
    align-items: center;
    gap: 24px;
    padding: 12px 32px;
  }
  .header-top {
    margin-bottom: 0;
    flex-shrink: 0;
  }
  .header-stats {
    flex: 1;
    max-width: 480px;
  }
  .header-user {
    flex-shrink: 0;
  }

  /* 3. Nav — sidebar instead of bottom bar */
  .nav {
    position: static;
    left: auto;
    bottom: auto;
    transform: none;
    width: auto;
    max-width: none;
    grid-column: 1;
    grid-row: 2;
    flex-direction: column;
    justify-content: flex-start;
    gap: 4px;
    padding: 16px 12px;
    padding-bottom: 16px;
    background: var(--card);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border-top: none;
    border-right: 1px solid var(--border);
    overflow-y: auto;
    z-index: auto;
  }
  .nav-item {
    flex-direction: row;
    justify-content: flex-start;
    gap: 10px;
    padding: 12px 16px;
    font-size: 14px;
    border-radius: 12px;
    width: 100%;
  }
  .nav-item svg {
    width: 20px;
    height: 20px;
  }

  /* 4. Main + scroll area */
  main {
    grid-column: 2;
    grid-row: 2;
    overflow: hidden;
  }
  .scroll {
    padding-bottom: 32px;
    max-width: 900px;
    margin: 0 auto;
  }

  /* 5. Person card — wider, larger avatar */
  .person-card {
    max-width: 640px;
    margin: 0 auto 20px;
  }
  .person-avatar {
    width: 100px;
    height: 100px;
    font-size: 44px;
  }
  .person-name {
    font-size: clamp(20px, 2.5vw, 28px);
  }

  /* 6. Parent cards — wider, bigger avatars */
  .parent-cards {
    max-width: 640px;
    margin: 0 auto 8px;
    gap: 16px;
  }
  .parent-card {
    padding: 20px;
  }
  .parent-card .mini-avatar {
    width: 52px;
    height: 52px;
    font-size: 24px;
  }

  /* 7. Children grid — auto-fill */
  .children-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  }

  /* 8. Spouses — horizontal row */
  .spouses-list {
    flex-direction: row;
    flex-wrap: wrap;
  }
  .spouse-card {
    min-width: 280px;
    flex: 1;
  }

  /* 9. Person list (search) — multi-column grid */
  .person-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 8px;
  }

  /* 10. Parente form — side by side selects */
  .parente-form {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 16px;
    align-items: end;
  }
  .parente-vs {
    align-self: center;
    padding-top: 20px;
  }
  .parente-btn {
    grid-column: 1 / -1;
  }
  .relation-result {
    grid-column: 1 / -1;
  }

  /* 11. Forms (contribuer) — centered */
  .form-section {
    max-width: 700px;
    margin: 0 auto 16px;
  }
  .form-intro {
    max-width: 700px;
    margin: 0 auto 16px;
  }
  .form-actions {
    max-width: 700px;
    margin: 24px auto;
  }
  .form-note {
    max-width: 700px;
    margin: 0 auto;
  }

  /* 12. Suggestions — multi-column grid */
  .suggestions-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 12px;
  }

  /* 13. Admin — wider padding, contained tabs */
  .admin-tabs {
    max-width: 500px;
  }
  .admin-section {
    padding: 0 8px;
  }

  /* 14. Login — wider card, larger logo */
  .login-container {
    max-width: 460px;
  }
  .login-box {
    padding: 36px 32px;
  }
  .login-logo-icon {
    width: 96px;
    height: 96px;
    font-size: 48px;
    border-radius: 28px;
  }

  /* 15. Modals — wider */
  .modal-content {
    max-width: 640px;
  }
  .tree-popup {
    max-width: 420px;
  }

  /* 16. Tree view — wider cards & bridges (vertical) */
  .tree-card {
    min-width: 150px;
    max-width: 220px;
    padding: 10px 14px;
    margin: 0 8px;
  }
  .tree-node-bridge {
    height: 28px;
  }
  .tree-child-row {
    padding-top: 28px;
  }
  .tree-child-row::after {
    height: 28px;
  }
  .tree-view-scroll {
    min-height: 65vh;
  }
  .tree-zoom-btn {
    width: 36px;
    height: 36px;
  }

  /* Toast — reposition without bottom nav */
  .toast {
    bottom: 40px;
  }

  /* Section title spacing */
  .section-title {
    max-width: 640px;
    margin: 24px auto 12px;
  }

  /* Children groups — center */
  .children-mother-group {
    max-width: 640px;
    margin: 0 auto 16px;
  }

  /* Gen legend — center */
  .gen-legend {
    max-width: 640px;
    margin: 24px auto 0;
  }
}

/* ---------- Wide (1440px+) ---------- */
@media (min-width: 1440px) {
  .app {
    grid-template-columns: 260px 1fr;
  }
  .scroll {
    max-width: 1000px;
  }
  .children-grid {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  }
  .person-list {
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
  }
  .suggestions-list {
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  }
  .nav-item {
    padding: 14px 20px;
  }
}

/* ---------- Hover effects (non-touch) ---------- */
@media (hover: hover) {
  .person-item:hover {
    background: var(--card-hover);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }
  .child-card:hover {
    background: var(--card-hover);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }
  .parent-card:hover {
    background: var(--card-hover);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }
  .spouse-card.clickable:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }
  .nav-item:hover {
    color: var(--primary-light);
    background: rgba(99, 102, 241, 0.1);
  }
  .suggestion-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }
  .tree-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.2);
  }
  .tree-nav-item:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
  }
  .tree-toolbar-btn:hover {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
  }
  .tree-zoom-btn:hover {
    background: rgba(99, 102, 241, 0.15);
    color: var(--text);
  }
  .tree-zoom-fit:hover {
    background: var(--primary);
    color: white;
  }
  .view-toggle-btn:hover:not(.active) {
    background: rgba(99, 102, 241, 0.1);
    color: var(--text-secondary);
  }
  .admin-tab:hover:not(.active) {
    background: rgba(99, 102, 241, 0.1);
    color: var(--text-secondary);
  }
  .parente-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
  }
  .action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }
  .relation-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }
  .terms-category-header:hover {
    background: var(--card-hover);
  }
  .term-card:hover:not(.editing) {
    background: var(--card-hover);
  }
}

/* ================================================================
   Relation system - Autocomplete
   ================================================================ */

.member-autocomplete {
  width: 100%;
  position: relative;
}

.member-autocomplete-label {
  display: block;
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 6px;
  font-weight: 500;
}

.member-autocomplete-selected {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 6px;
  padding: 6px 10px;
  background: rgba(99, 102, 241, 0.1);
  border-radius: 8px;
  font-size: 13px;
  color: var(--text);
}

/* ================================================================
   Relation system - Results list
   ================================================================ */

.relation-results {
  margin-top: 20px;
}

.relation-results-header {
  margin-bottom: 16px;
}

.relation-results-count {
  font-size: 14px;
  color: var(--text-secondary);
  font-weight: 500;
}

.relation-results-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* ================================================================
   Relation system - Card
   ================================================================ */

.relation-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
  transition: transform 0.2s, box-shadow 0.2s;
}

.relation-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;
}

.relation-card-category-block {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.relation-card-category-songhoy {
  font-size: 18px;
  font-weight: 700;
  color: var(--accent);
  line-height: 1.2;
}

.relation-card-category {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--primary-light);
  background: rgba(99, 102, 241, 0.15);
  padding: 4px 10px;
  border-radius: var(--radius-full);
  align-self: flex-start;
}

.relation-card-distance {
  font-size: 11px;
  color: var(--text-muted);
}

/* Terms display */
.relation-card-terms {
  margin-bottom: 16px;
}

.relation-card-term-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 0;
}

.relation-card-term-row + .relation-card-term-row {
  border-top: 1px solid var(--border);
}

.relation-card-person {
  font-size: 13px;
  color: var(--text-secondary);
  min-width: 80px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.relation-card-arrow {
  color: var(--text-muted);
  font-size: 14px;
  flex-shrink: 0;
}

.relation-card-term-block {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.relation-songhoy-term {
  font-size: 24px;
  font-weight: 700;
  color: var(--accent);
  line-height: 1.2;
}

.relation-songhoy-term.additional {
  font-size: 18px;
  color: var(--primary-light);
}

.relation-card-additional {
  margin-bottom: 12px;
  padding: 10px;
  background: rgba(99, 102, 241, 0.05);
  border-radius: 8px;
  border: 1px dashed var(--border);
}

.relation-card-additional-label {
  font-size: 12px;
  color: var(--text-muted);
  font-style: italic;
  display: block;
  margin-bottom: 6px;
}

.relation-card-label-fr {
  font-size: 13px;
  color: var(--text-secondary);
}

/* Footer */
.relation-card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--border);
}

.relation-card-ancestor {
  font-size: 12px;
  color: var(--text-muted);
}

.relation-card-distances {
  font-size: 11px;
  color: var(--text-muted);
}

/* ================================================================
   Relation system - Path Graph
   ================================================================ */

.relation-graph {
  padding: 12px 0;
}

.relation-graph-ancestor {
  display: flex;
  justify-content: center;
  margin-bottom: 4px;
}

.relation-graph-node {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 12px;
}

.relation-graph-node.ancestor-node {
  background: rgba(99, 102, 241, 0.15);
  border-color: var(--primary);
}

.relation-graph-node.endpoint {
  background: rgba(34, 211, 238, 0.1);
  border-color: var(--accent);
}

.relation-graph-icon {
  font-size: 14px;
}

.relation-graph-name {
  color: var(--text);
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 120px;
}

.relation-graph-direct {
  color: var(--text-muted);
  font-style: italic;
}

/* Fork */
.relation-graph-fork {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  height: 24px;
}

.relation-graph-vline {
  width: 2px;
  height: 12px;
  background: var(--border);
}

.relation-graph-hline {
  width: 60%;
  max-width: 300px;
  height: 2px;
  background: var(--border);
}

/* Branches */
.relation-graph-branches {
  display: flex;
  justify-content: center;
  gap: 24px;
}

.relation-graph-branch {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-width: 100px;
  max-width: 180px;
}

.relation-graph-step {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.relation-graph-vline-branch {
  width: 2px;
  height: 12px;
  background: var(--border);
}

/* ================================================================
   Admin - Terms Management
   ================================================================ */

.terms-management {
  padding-top: 8px;
}

.terms-intro {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

.terms-categories-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.terms-category-block {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}

.terms-category-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 14px 16px;
  background: transparent;
  border: none;
  color: var(--text);
  cursor: pointer;
  transition: background 0.2s;
}

.terms-category-header.expanded {
  border-bottom: 1px solid var(--border);
}

.terms-category-info {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.terms-category-label {
  font-size: 14px;
  font-weight: 600;
}

.terms-category-count {
  font-size: 12px;
  color: var(--text-muted);
}

.terms-category-chevron {
  font-size: 10px;
  color: var(--text-muted);
}

.terms-category-body {
  padding: 12px 16px;
}

.terms-category-desc {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 12px;
  font-style: italic;
}

.terms-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Term card */
.term-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 12px;
  transition: background 0.2s;
}

.term-card.inactive {
  opacity: 0.5;
}

.term-card.editing {
  border-color: var(--primary);
}

.term-card-main {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 8px;
}

.term-card-left {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.term-card-code {
  font-size: 11px;
  font-family: monospace;
  color: var(--text-muted);
}

.term-card-songhoy {
  font-size: 18px;
  font-weight: 700;
  color: var(--accent);
}

.term-card-prononciation {
  font-size: 12px;
  color: var(--text-muted);
  font-style: italic;
}

.term-card-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2px;
}

.term-card-label-fr {
  font-size: 13px;
  color: var(--text-secondary);
}

.term-card-gender-info {
  font-size: 11px;
  color: var(--text-muted);
}
.term-card-context {
  font-size: 10px;
  color: var(--accent);
  background: rgba(34, 211, 238, 0.1);
  padding: 1px 6px;
  border-radius: 4px;
}
.terms-category-songhoy-label {
  color: var(--accent);
  font-weight: 600;
}

.term-card-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

/* Term edit form */
.term-edit-form {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.term-edit-row {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.term-edit-row label {
  font-size: 12px;
  color: var(--text-secondary);
  font-weight: 500;
}

.term-edit-input {
  padding: 8px 12px;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-size: 14px;
}

.term-edit-input:focus {
  outline: none;
  border-color: var(--primary);
}

.term-edit-input.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.term-edit-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  margin-top: 4px;
}
.term-edit-row-inline {
  display: flex;
  gap: 12px;
}
.term-edit-row-inline .term-edit-row {
  flex: 1;
}
.btn-add-term {
  width: 100%;
  padding: 10px;
  background: transparent;
  border: 2px dashed var(--border);
  border-radius: var(--radius-sm, 8px);
  color: var(--text-secondary);
  font-size: 14px;
  cursor: pointer;
  transition: border-color 0.2s, color 0.2s;
}
.btn-add-term:hover {
  border-color: var(--primary);
  color: var(--primary);
}
.term-card.adding {
  border: 1px solid var(--success);
}
.terms-error {
  color: #ef4444;
  font-size: 13px;
  padding: 8px 12px;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 8px;
  margin-bottom: 12px;
}

/* Toggle active button */
.btn-toggle-active {
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  border: 1px solid rgba(239, 68, 68, 0.3);
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  cursor: pointer;
  transition: background 0.2s;
}

.btn-toggle-active.activate {
  border-color: rgba(16, 185, 129, 0.3);
  background: rgba(16, 185, 129, 0.1);
  color: var(--success);
}

/* ================================================================
   Responsive - Relation system
   ================================================================ */

@media (max-width: 480px) {
  .relation-songhoy-term {
    font-size: 20px;
  }

  .relation-card {
    padding: 14px;
  }

  .relation-card-person {
    min-width: 60px;
    font-size: 12px;
  }

  .relation-graph-branches {
    gap: 12px;
  }

  .relation-graph-branch {
    min-width: 80px;
  }

  .relation-graph-name {
    max-width: 80px;
    font-size: 11px;
  }

  .term-card-main {
    flex-direction: column;
  }

  .term-card-right {
    align-items: flex-start;
  }

  .term-card-actions {
    flex-wrap: wrap;
  }

  .term-edit-actions {
    flex-direction: column;
  }
}
